

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux VM Installation Guide &mdash; GeminiSDR 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="CUDA Cluster Installation Guide" href="cuda_cluster.html" />
    <link rel="prev" title="M1 Mac Installation Guide" href="m1_mac.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            GeminiSDR
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Guides</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Installation Guides</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="m1_mac.html">M1 Mac Installation Guide</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Linux VM Installation Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installation-steps">Installation Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vm-specific-optimizations">VM-Specific Optimizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb-passthrough-setup">USB Passthrough Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#testing-and-verification">Testing and Verification</a></li>
<li class="toctree-l4"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#development-in-vms">Development in VMs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cuda_cluster.html">CUDA Cluster Installation Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#quick-platform-selection">Quick Platform Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#detailed-installation-guides">Detailed Installation Guides</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html">Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../performance_optimization.html">Performance Optimization Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#installation-guides">Installation Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#essential-guides">Essential Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#quick-start">Quick Start</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/index.html">System Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Examples and Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GeminiSDR</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">User Guides</a></li>
          <li class="breadcrumb-item"><a href="index.html">Installation Guides</a></li>
      <li class="breadcrumb-item active">Linux VM Installation Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/guides/installation/linux_vm.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux-vm-installation-guide">
<h1>Linux VM Installation Guide<a class="headerlink" href="#linux-vm-installation-guide" title="Link to this heading"></a></h1>
<p>This guide provides detailed installation instructions for GeminiSDR on Linux virtual machines, including Ubuntu, CentOS, and other distributions.</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading"></a></h2>
<section id="system-requirements">
<h3>System Requirements<a class="headerlink" href="#system-requirements" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>VM Specifications</strong>:</p>
<ul>
<li><p>4+ CPU cores allocated to VM</p></li>
<li><p>8GB+ RAM allocated (16GB recommended)</p></li>
<li><p>20GB+ storage space</p></li>
<li><p>USB passthrough enabled (for SDR hardware)</p></li>
</ul>
</li>
<li><p><strong>Host System</strong>:</p>
<ul>
<li><p>VMware Workstation/Fusion, VirtualBox, or KVM/QEMU</p></li>
<li><p>USB 3.0 support for SDR devices</p></li>
<li><p>Sufficient host resources</p></li>
</ul>
</li>
<li><p><strong>Guest OS</strong>:</p>
<ul>
<li><p>Ubuntu 20.04 LTS or later (recommended)</p></li>
<li><p>CentOS 8+ / RHEL 8+</p></li>
<li><p>Debian 11+</p></li>
<li><p>Fedora 35+</p></li>
</ul>
</li>
</ul>
</section>
<section id="vm-configuration">
<h3>VM Configuration<a class="headerlink" href="#vm-configuration" title="Link to this heading"></a></h3>
<p>Recommended VM settings:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>CPU: 4-8 cores
RAM: 8-16GB
Storage: 50GB+ (thin provisioned)
Network: NAT or Bridged
USB: USB 3.0 controller enabled
Graphics: 3D acceleration enabled (if available)
</pre></div>
</div>
</section>
</section>
<section id="installation-steps">
<h2>Installation Steps<a class="headerlink" href="#installation-steps" title="Link to this heading"></a></h2>
<section id="prepare-the-vm-environment">
<h3>1. Prepare the VM Environment<a class="headerlink" href="#prepare-the-vm-environment" title="Link to this heading"></a></h3>
<p><strong>Ubuntu/Debian</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Update system packages</span>
sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>upgrade<span class="w"> </span>-y

<span class="c1"># Install essential build tools</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>build-essential<span class="w"> </span>cmake<span class="w"> </span>git<span class="w"> </span>curl<span class="w"> </span>wget
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>python3<span class="w"> </span>python3-pip<span class="w"> </span>python3-venv<span class="w"> </span>python3-dev
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>pkg-config<span class="w"> </span>libfftw3-dev<span class="w"> </span>libusb-1.0-0-dev
</pre></div>
</div>
<p><strong>CentOS/RHEL/Fedora</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Update system packages</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>update<span class="w"> </span>-y<span class="w">  </span><span class="c1"># or &#39;yum update -y&#39; for older versions</span>

<span class="c1"># Install development tools</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>groupinstall<span class="w"> </span>-y<span class="w"> </span><span class="s2">&quot;Development Tools&quot;</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>cmake<span class="w"> </span>git<span class="w"> </span>curl<span class="w"> </span>wget
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>python3<span class="w"> </span>python3-pip<span class="w"> </span>python3-devel
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>pkg-config<span class="w"> </span>fftw-devel<span class="w"> </span>libusb1-devel
</pre></div>
</div>
</section>
<section id="install-sdr-libraries">
<h3>2. Install SDR Libraries<a class="headerlink" href="#install-sdr-libraries" title="Link to this heading"></a></h3>
<p><strong>Ubuntu/Debian</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install SDR libraries from repositories</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>rtl-sdr<span class="w"> </span>librtlsdr-dev
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>hackrf<span class="w"> </span>libhackrf-dev
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>airspy<span class="w"> </span>libairspy-dev
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>soapysdr-tools<span class="w"> </span>libsoapysdr-dev

<span class="c1"># Install additional SoapySDR modules</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>soapysdr-module-rtlsdr
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>soapysdr-module-hackrf
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>soapysdr-module-airspy
</pre></div>
</div>
<p><strong>CentOS/RHEL/Fedora</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enable EPEL repository (CentOS/RHEL)</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>epel-release<span class="w">  </span><span class="c1"># or &#39;yum install epel-release&#39;</span>

<span class="c1"># Install SDR libraries</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>rtl-sdr<span class="w"> </span>rtl-sdr-devel
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>hackrf<span class="w"> </span>hackrf-devel
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>SoapySDR<span class="w"> </span>SoapySDR-devel

<span class="c1"># Build additional modules from source if needed</span>
<span class="c1"># (Some distributions may not have all SDR packages)</span>
</pre></div>
</div>
</section>
<section id="configure-usb-access">
<h3>3. Configure USB Access<a class="headerlink" href="#configure-usb-access" title="Link to this heading"></a></h3>
<p>Set up USB permissions for SDR devices:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create udev rules for SDR devices</span>
sudo<span class="w"> </span>tee<span class="w"> </span>/etc/udev/rules.d/20-rtlsdr.rules<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s"># RTL-SDR devices</span>
<span class="s">SUBSYSTEM==&quot;usb&quot;, ATTRS{idVendor}==&quot;0bda&quot;, ATTRS{idProduct}==&quot;2832&quot;, GROUP=&quot;plugdev&quot;, MODE=&quot;0666&quot;, SYMLINK+=&quot;rtl_sdr&quot;</span>
<span class="s">SUBSYSTEM==&quot;usb&quot;, ATTRS{idVendor}==&quot;0bda&quot;, ATTRS{idProduct}==&quot;2838&quot;, GROUP=&quot;plugdev&quot;, MODE=&quot;0666&quot;, SYMLINK+=&quot;rtl_sdr&quot;</span>

<span class="s"># HackRF devices</span>
<span class="s">SUBSYSTEM==&quot;usb&quot;, ATTRS{idVendor}==&quot;1d50&quot;, ATTRS{idProduct}==&quot;6089&quot;, GROUP=&quot;plugdev&quot;, MODE=&quot;0666&quot;, SYMLINK+=&quot;hackrf&quot;</span>

<span class="s"># Airspy devices</span>
<span class="s">SUBSYSTEM==&quot;usb&quot;, ATTRS{idVendor}==&quot;1d50&quot;, ATTRS{idProduct}==&quot;60a1&quot;, GROUP=&quot;plugdev&quot;, MODE=&quot;0666&quot;, SYMLINK+=&quot;airspy&quot;</span>
<span class="s">EOF</span>

<span class="c1"># Add user to plugdev group</span>
sudo<span class="w"> </span>usermod<span class="w"> </span>-a<span class="w"> </span>-G<span class="w"> </span>plugdev<span class="w"> </span><span class="nv">$USER</span>

<span class="c1"># Reload udev rules</span>
sudo<span class="w"> </span>udevadm<span class="w"> </span>control<span class="w"> </span>--reload-rules
sudo<span class="w"> </span>udevadm<span class="w"> </span>trigger

<span class="c1"># Logout and login again for group changes to take effect</span>
</pre></div>
</div>
</section>
<section id="install-python-dependencies">
<h3>4. Install Python Dependencies<a class="headerlink" href="#install-python-dependencies" title="Link to this heading"></a></h3>
<p>Create and configure Python environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create virtual environment</span>
python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>geminisdr-env

<span class="c1"># Activate virtual environment</span>
<span class="nb">source</span><span class="w"> </span>geminisdr-env/bin/activate

<span class="c1"># Upgrade pip and install wheel</span>
pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip<span class="w"> </span>wheel<span class="w"> </span>setuptools
</pre></div>
</div>
</section>
<section id="install-pytorch-cpu-version">
<h3>5. Install PyTorch (CPU Version)<a class="headerlink" href="#install-pytorch-cpu-version" title="Link to this heading"></a></h3>
<p>Install CPU-optimized PyTorch for VM environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install PyTorch CPU version</span>
pip<span class="w"> </span>install<span class="w"> </span>torch<span class="w"> </span>torchvision<span class="w"> </span>torchaudio<span class="w"> </span>--index-url<span class="w"> </span>https://download.pytorch.org/whl/cpu

<span class="c1"># Verify installation</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import torch; print(f&#39;PyTorch version: {torch.__version__}&#39;)&quot;</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;import torch; print(f&#39;CPU device available: {torch.cuda.is_available() == False}&#39;)&quot;</span>
</pre></div>
</div>
</section>
<section id="install-geminisdr">
<h3>6. Install GeminiSDR<a class="headerlink" href="#install-geminisdr" title="Link to this heading"></a></h3>
<p>Clone and install GeminiSDR:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Clone repository</span>
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/your-org/geminisdr.git
<span class="nb">cd</span><span class="w"> </span>geminisdr

<span class="c1"># Install in development mode</span>
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.

<span class="c1"># Install development dependencies</span>
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements-dev.txt
</pre></div>
</div>
</section>
<section id="configure-for-linux-vm">
<h3>7. Configure for Linux VM<a class="headerlink" href="#configure-for-linux-vm" title="Link to this heading"></a></h3>
<p>Create VM-specific configuration:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Copy VM configuration template</span>
cp<span class="w"> </span>conf/hardware/vm_ubuntu.yaml<span class="w"> </span>conf/local_config.yaml

<span class="c1"># Edit configuration for your VM</span>
nano<span class="w"> </span>conf/local_config.yaml
</pre></div>
</div>
<p>Example Linux VM configuration:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linux VM optimized configuration</span>
<span class="nt">hardware</span><span class="p">:</span>
<span class="w">  </span><span class="nt">device_preference</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cpu&quot;</span><span class="w">  </span><span class="c1"># CPU-only processing</span>
<span class="w">  </span><span class="nt">memory_optimization</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;conservative&quot;</span><span class="w">  </span><span class="c1"># Conservative memory usage</span>
<span class="w">  </span><span class="nt">sdr_mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;auto&quot;</span><span class="w">  </span><span class="c1"># Auto-detect SDR hardware</span>
<span class="w">  </span><span class="nt">thread_count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span><span class="w">  </span><span class="c1"># Match VM CPU allocation</span>

<span class="nt">ml</span><span class="p">:</span>
<span class="w">  </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">16</span><span class="w">  </span><span class="c1"># Smaller batches for limited memory</span>
<span class="w">  </span><span class="nt">precision</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;float32&quot;</span><span class="w">  </span><span class="c1"># Full precision for CPU</span>
<span class="w">  </span><span class="nt">model_cache_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w">  </span><span class="c1"># Limited cache due to memory constraints</span>
<span class="w">  </span><span class="nt">gradient_checkpointing</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">  </span><span class="c1"># Save memory during training</span>

<span class="nt">performance</span><span class="p">:</span>
<span class="w">  </span><span class="nt">memory_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.7</span><span class="w">  </span><span class="c1"># Conservative memory threshold</span>
<span class="w">  </span><span class="nt">auto_optimize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">profiling_enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="nt">logging</span><span class="p">:</span>
<span class="w">  </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;INFO&quot;</span>
<span class="w">  </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;structured&quot;</span>
<span class="w">  </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;console&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;file&quot;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</section>
</section>
<section id="vm-specific-optimizations">
<h2>VM-Specific Optimizations<a class="headerlink" href="#vm-specific-optimizations" title="Link to this heading"></a></h2>
<section id="cpu-optimization">
<h3>CPU Optimization<a class="headerlink" href="#cpu-optimization" title="Link to this heading"></a></h3>
<p>Optimize for CPU-only processing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="c1"># Set optimal thread count for VM</span>
<span class="n">vm_cpu_count</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># Match your VM CPU allocation</span>
<span class="n">torch</span><span class="o">.</span><span class="n">set_num_threads</span><span class="p">(</span><span class="n">vm_cpu_count</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;OMP_NUM_THREADS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">vm_cpu_count</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;MKL_NUM_THREADS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">vm_cpu_count</span><span class="p">)</span>

<span class="c1"># Enable CPU optimizations</span>
<span class="n">torch</span><span class="o">.</span><span class="n">backends</span><span class="o">.</span><span class="n">mkldnn</span><span class="o">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="memory-management">
<h3>Memory Management<a class="headerlink" href="#memory-management" title="Link to this heading"></a></h3>
<p>Configure conservative memory usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">geminisdr.core.memory_manager</span><span class="w"> </span><span class="kn">import</span> <span class="n">MemoryManager</span>

<span class="c1"># Initialize with conservative settings</span>
<span class="n">memory_manager</span> <span class="o">=</span> <span class="n">MemoryManager</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

<span class="c1"># Use smaller batch sizes</span>
<span class="n">optimal_batch_size</span> <span class="o">=</span> <span class="n">memory_manager</span><span class="o">.</span><span class="n">optimize_batch_size</span><span class="p">(</span>
    <span class="n">base_batch_size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span>  <span class="c1"># Start smaller for VMs</span>
    <span class="n">model_size_mb</span><span class="o">=</span><span class="mi">300</span>
<span class="p">)</span>

<span class="c1"># Enable frequent cleanup</span>
<span class="n">memory_manager</span><span class="o">.</span><span class="n">cleanup_memory</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="storage-optimization">
<h3>Storage Optimization<a class="headerlink" href="#storage-optimization" title="Link to this heading"></a></h3>
<p>Optimize for VM storage performance:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use tmpfs for temporary files (if enough RAM)</span>
sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/tmp/geminisdr
sudo<span class="w"> </span>mount<span class="w"> </span>-t<span class="w"> </span>tmpfs<span class="w"> </span>-o<span class="w"> </span><span class="nv">size</span><span class="o">=</span>2G<span class="w"> </span>tmpfs<span class="w"> </span>/tmp/geminisdr

<span class="c1"># Configure temporary directory</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">TMPDIR</span><span class="o">=</span>/tmp/geminisdr
</pre></div>
</div>
</section>
</section>
<section id="usb-passthrough-setup">
<h2>USB Passthrough Setup<a class="headerlink" href="#usb-passthrough-setup" title="Link to this heading"></a></h2>
<section id="vmware-workstation-fusion">
<h3>VMware Workstation/Fusion<a class="headerlink" href="#vmware-workstation-fusion" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Enable USB 3.0</strong>: VM Settings → USB Controller → USB 3.0</p></li>
<li><p><strong>Add USB Device</strong>: VM Settings → USB Controller → Add → Select SDR device</p></li>
<li><p><strong>Auto-connect</strong>: Check “Connect at power on”</p></li>
</ol>
</section>
<section id="virtualbox">
<h3>VirtualBox<a class="headerlink" href="#virtualbox" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Install Extension Pack</strong>: Download and install VirtualBox Extension Pack</p></li>
<li><p><strong>Enable USB 3.0</strong>: VM Settings → USB → USB 3.0 Controller</p></li>
<li><p><strong>Add USB Filter</strong>: VM Settings → USB → Add filter for SDR device</p></li>
</ol>
</section>
<section id="kvm-qemu">
<h3>KVM/QEMU<a class="headerlink" href="#kvm-qemu" title="Link to this heading"></a></h3>
<p>Add USB passthrough to VM configuration:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;hostdev</span><span class="w"> </span><span class="na">mode=</span><span class="s">&#39;subsystem&#39;</span><span class="w"> </span><span class="na">type=</span><span class="s">&#39;usb&#39;</span><span class="w"> </span><span class="na">managed=</span><span class="s">&#39;yes&#39;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;source&gt;</span>
<span class="w">    </span><span class="nt">&lt;vendor</span><span class="w"> </span><span class="na">id=</span><span class="s">&#39;0x0bda&#39;</span><span class="nt">/&gt;</span><span class="w">  </span><span class="cm">&lt;!-- RTL-SDR vendor ID --&gt;</span>
<span class="w">    </span><span class="nt">&lt;product</span><span class="w"> </span><span class="na">id=</span><span class="s">&#39;0x2832&#39;</span><span class="nt">/&gt;</span><span class="w"> </span><span class="cm">&lt;!-- RTL-SDR product ID --&gt;</span>
<span class="w">  </span><span class="nt">&lt;/source&gt;</span>
<span class="nt">&lt;/hostdev&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="testing-and-verification">
<h2>Testing and Verification<a class="headerlink" href="#testing-and-verification" title="Link to this heading"></a></h2>
<section id="test-sdr-hardware">
<h3>Test SDR Hardware<a class="headerlink" href="#test-sdr-hardware" title="Link to this heading"></a></h3>
<p>Verify SDR devices are accessible:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Test RTL-SDR</span>
rtl_test<span class="w"> </span>-t

<span class="c1"># Test HackRF (if available)</span>
hackrf_info

<span class="c1"># List SoapySDR devices</span>
SoapySDRUtil<span class="w"> </span>--find

<span class="c1"># Test with GeminiSDR</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span>
<span class="s2">from geminisdr.environments.hardware_abstraction import HardwareAbstraction</span>
<span class="s2">from geminisdr.config.config_manager import ConfigManager</span>

<span class="s2">config = ConfigManager().load_config()</span>
<span class="s2">hw = HardwareAbstraction(config)</span>
<span class="s2">devices = hw.detect_available_devices()</span>
<span class="s2">print(f&#39;Available devices: {devices}&#39;)</span>
<span class="s2">&quot;</span>
</pre></div>
</div>
</section>
<section id="run-test-suite">
<h3>Run Test Suite<a class="headerlink" href="#run-test-suite" title="Link to this heading"></a></h3>
<p>Execute comprehensive tests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run unit tests</span>
pytest<span class="w"> </span>tests/unit/<span class="w"> </span>-v

<span class="c1"># Run Linux-specific tests</span>
pytest<span class="w"> </span>tests/cross_platform/<span class="w"> </span>-k<span class="w"> </span><span class="s2">&quot;linux&quot;</span><span class="w"> </span>-v

<span class="c1"># Run hardware tests (with SDR connected)</span>
pytest<span class="w"> </span>tests/hardware/<span class="w"> </span>-v<span class="w"> </span>--sdr-device<span class="o">=</span>rtlsdr
</pre></div>
</div>
</section>
<section id="performance-benchmarking">
<h3>Performance Benchmarking<a class="headerlink" href="#performance-benchmarking" title="Link to this heading"></a></h3>
<p>Benchmark VM performance:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run performance tests</span>
python<span class="w"> </span>scripts/benchmark_training.py<span class="w"> </span>--platform<span class="o">=</span>vm_ubuntu
python<span class="w"> </span>scripts/benchmark_inference.py<span class="w"> </span>--platform<span class="o">=</span>vm_ubuntu

<span class="c1"># Compare with baseline</span>
python<span class="w"> </span>scripts/compare_benchmarks.py
</pre></div>
</div>
</section>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<section id="common-vm-issues">
<h3>Common VM Issues<a class="headerlink" href="#common-vm-issues" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: SDR device not detected in VM</p>
<blockquote>
<div><p><strong>Solution</strong>: Check USB passthrough configuration:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check USB devices in VM</span>
lsusb

<span class="c1"># Check device permissions</span>
ls<span class="w"> </span>-la<span class="w"> </span>/dev/bus/usb/

<span class="c1"># Test device access</span>
rtl_test<span class="w"> </span>-t
</pre></div>
</div>
</div></blockquote>
<p><strong>Issue</strong>: Poor performance in VM</p>
<blockquote>
<div><p><strong>Solution</strong>: Optimize VM resources and settings:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check CPU allocation</span>
nproc

<span class="c1"># Check memory allocation</span>
free<span class="w"> </span>-h

<span class="c1"># Monitor resource usage</span>
htop
</pre></div>
</div>
</div></blockquote>
<p><strong>Issue</strong>: Memory errors during training</p>
<blockquote>
<div><p><strong>Solution</strong>: Reduce batch sizes and enable optimizations:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># In configuration</span>
<span class="nt">ml</span><span class="p">:</span>
<span class="w">  </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span><span class="w">  </span><span class="c1"># Very small for VMs</span>
<span class="w">  </span><span class="nt">gradient_checkpointing</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="nt">performance</span><span class="p">:</span>
<span class="w">  </span><span class="nt">memory_threshold</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.6</span><span class="w">  </span><span class="c1"># Very conservative</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Issue</strong>: Network connectivity problems</p>
<blockquote>
<div><p><strong>Solution</strong>: Check VM network configuration:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Test network connectivity</span>
ping<span class="w"> </span>google.com

<span class="c1"># Check DNS resolution</span>
nslookup<span class="w"> </span>google.com

<span class="c1"># Test package installation</span>
pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
</pre></div>
</div>
</div></blockquote>
</section>
<section id="performance-expectations">
<h3>Performance Expectations<a class="headerlink" href="#performance-expectations" title="Link to this heading"></a></h3>
<p>Typical performance on Linux VMs:</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">VM Performance Benchmarks</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>VM Type</p></th>
<th class="head"><p>4 CPU/8GB RAM</p></th>
<th class="head"><p>6 CPU/12GB RAM</p></th>
<th class="head"><p>8 CPU/16GB RAM</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Training Speed</p></td>
<td><p>15 samples/sec</p></td>
<td><p>25 samples/sec</p></td>
<td><p>35 samples/sec</p></td>
</tr>
<tr class="row-odd"><td><p>Inference Latency</p></td>
<td><p>50ms</p></td>
<td><p>35ms</p></td>
<td><p>25ms</p></td>
</tr>
<tr class="row-even"><td><p>Memory Usage</p></td>
<td><p>4-6GB</p></td>
<td><p>6-8GB</p></td>
<td><p>8-10GB</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="development-in-vms">
<h2>Development in VMs<a class="headerlink" href="#development-in-vms" title="Link to this heading"></a></h2>
<section id="ide-setup">
<h3>IDE Setup<a class="headerlink" href="#ide-setup" title="Link to this heading"></a></h3>
<p><strong>VS Code with Remote Development</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install VS Code Server in VM</span>
curl<span class="w"> </span>-fsSL<span class="w"> </span>https://code-server.dev/install.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh

<span class="c1"># Start code-server</span>
code-server<span class="w"> </span>--bind-addr<span class="w"> </span><span class="m">0</span>.0.0.0:8080
</pre></div>
</div>
<p><strong>SSH Development</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enable SSH in VM</span>
sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>ssh
sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>ssh

<span class="c1"># Connect from host</span>
ssh<span class="w"> </span>-L<span class="w"> </span><span class="m">8888</span>:localhost:8888<span class="w"> </span>user@vm-ip
</pre></div>
</div>
</section>
<section id="debugging-in-vms">
<h3>Debugging in VMs<a class="headerlink" href="#debugging-in-vms" title="Link to this heading"></a></h3>
<p>Enhanced debugging for VM environment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enable verbose logging</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>

<span class="c1"># Monitor resource usage</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">psutil</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CPU usage: </span><span class="si">{</span><span class="n">psutil</span><span class="o">.</span><span class="n">cpu_percent</span><span class="p">()</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Memory usage: </span><span class="si">{</span><span class="n">psutil</span><span class="o">.</span><span class="n">virtual_memory</span><span class="p">()</span><span class="o">.</span><span class="n">percent</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="backup-and-snapshots">
<h3>Backup and Snapshots<a class="headerlink" href="#backup-and-snapshots" title="Link to this heading"></a></h3>
<p>Create VM snapshots before major changes:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># VMware: Create snapshot via GUI or CLI</span>
<span class="c1"># VirtualBox: VBoxManage snapshot &quot;VM Name&quot; take &quot;snapshot_name&quot;</span>
<span class="c1"># KVM: virsh snapshot-create-as domain snapshot_name</span>
</pre></div>
</div>
</section>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading"></a></h2>
<p>After successful installation:</p>
<ol class="arabic simple">
<li><p><strong>Configure SDR Hardware</strong>: Test with your specific SDR devices</p></li>
<li><p><strong>Optimize Performance</strong>: Tune VM settings for your use case</p></li>
<li><p><strong>Set Up Development Environment</strong>: Configure IDE and debugging tools</p></li>
<li><p><strong>Explore Examples</strong>: <a class="reference internal" href="../../examples/index.html"><span class="doc">Examples and Tutorials</span></a></p></li>
</ol>
<p>For advanced VM optimization:</p>
<ul class="simple">
<li><p><span class="xref std std-doc">../advanced/performance_tuning</span></p></li>
<li><p><span class="xref std std-doc">../advanced/custom_environments</span></p></li>
<li><p><a class="reference internal" href="../../development/debugging.html"><span class="doc">Debugging and Troubleshooting</span></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="m1_mac.html" class="btn btn-neutral float-left" title="M1 Mac Installation Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cuda_cluster.html" class="btn btn-neutral float-right" title="CUDA Cluster Installation Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, GeminiSDR Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>